<section class="section">
	<div class="container">
		<div class="columns is-centered">
			<div class="column is-half">
				<h3 class="title is-3">Forgot Password</h3>
				<div class="notification is-danger" *ngIf="isError">
					<button
						class="delete"
						(click)="removeErrorMessage($event)"
					></button>
					{{
						errorMessage || 'Something went wrong, please try again'
					}}
				</div>
				<form
					[formGroup]="forgotPasswordForm"
					(ngSubmit)="forgotPassword()"
				>
					<div class="field">
						<label class="label">Email</label>
						<div class="control has-icons-left has-icons-right">
							<input
								class="input is-medium"
								type="email"
								placeholder="Email"
								[ngClass]="{ 'is-danger': isEmailInvalid }"
								formControlName="email"
								(blur)="onInputBlur()"
								name="email"
							/>
							<span class="icon is-small is-left">
								<fa-icon [icon]="envelope"></fa-icon>
							</span>
							<span
								class="icon is-small is-right"
								*ngIf="isEmailInvalid"
							>
								<fa-icon [icon]="exclamationTriangle"></fa-icon>
							</span>
						</div>
						<p class="help is-danger" *ngIf="isEmailInvalid">
							This email is invalid
						</p>
					</div>

					<div class="field is-grouped">
						<div class="control">
							<button
								type="button"
								class="button is-link"
								[disabled]="!forgotPasswordForm.valid"
								(click)="forgotPassword()"
							>
								Send Reset Email
							</button>
						</div>
						<div class="control">
							<button
								type="button"
								class="button is-text"
								routerLink="/login"
							>
								Login
							</button>
						</div>
					</div>

					<div class="field is-grouped">
						<div class="control">
							<button
								type="button"
								class="button is-text"
								routerLink="/register"
							>
								Register
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>
